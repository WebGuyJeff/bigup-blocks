{"version":3,"file":"blocks/mortgage-calc/mortgage-calc-view.js","mappings":"iCAWA,MAAMA,YAAgBC,IAErBC,GADAD,GAAU,IACCE,MAAO,KAClBC,GAAKF,EAAG,GACRG,GAAKH,EAAEI,OAAS,EAAI,IAAMJ,EAAG,GAAM,GAEnC,IADA,IAAIK,EAAM,eACFA,EAAIC,KAAMJ,KACjBA,GAAKA,GAAGK,QAASF,EAAK,SAGvB,MADU,OAANF,KAAgBA,GAAK,IAClBD,GAAKC,EAAE,EAGTK,UAAYA,KAEjB,IAAIC,iBACHC,kBAEE,MAAMC,OAASC,WAAYC,SAASC,eAAgB,sBAAuBC,OAC7EC,aAAeH,SAASI,cAAe,2CAA4CF,MACnFG,KAAON,WAAYC,SAASC,eAAgB,sBAAuBC,OACnEI,aAAeP,WAAYC,SAASC,eAAgB,yBAA0BC,OAC9EK,eAAiBC,KAAa,GAAPH,MACvBI,SAAWD,KAAMA,KAAMF,aAAe,IAAO,KAE3C,GAAsB,kBAAjBH,aACDP,iBAAmBY,KAAMV,OAASW,UAClCZ,kBAAoBW,KAAyB,GAAnBZ,iBAAwBS,UAE/C,CACH,MAAMK,mBAAqBF,KAAM,EAAMG,KAAKC,IAAK,EAAIH,SAAUF,iBAC/DX,iBAAmBY,KAAQV,OAASW,UAAe,EAAIC,qBACvD,IAAIG,eAAiB,EACjBC,EAAI,EACR,KAAQA,EAAIT,MACRQ,gBAAqD,GAAnBjB,iBAClCkB,IAEJjB,kBAAoBgB,eAAiBf,MACzC,CAaA,OAXAE,SAASC,eAAgB,8BAA+Bc,UACpDf,SAASC,eAAgB,wCAAyCc,UAClE,iBACA9B,YAAaW,iBAAiBoB,QAAS,IACvC,UACJhB,SAASC,eAAgB,sCAAuCc,UAC5Df,SAASC,eAAgB,yCAA0Cc,UACnE,iBACA9B,YAAaY,kBAAkBmB,QAAS,IACxC,UACJhB,SAASC,eAAgB,wBAAyBgB,MAAMC,QAAU,SAC3D,CAAK,EAGVC,UAAYnB,SAASI,cAAe,iBAC1Ce,UAAUC,iBACN,UACE,SAAUC,GACRA,EAAEC,iBACF3B,WACJ,IACE,E","sources":["webpack://bigup-blocks/./src/blocks/mortgage-calc/mortgage-calc-view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\n\nconst formatPrice = ( number ) => {\n\tnumber += ''\n\tx = number.split( '.' )\n\tx1 = x[ 0 ]\n\tx2 = x.length > 1 ? '.' + x[ 1 ] : ''\n\tvar rgx = /(\\d+)(\\d{3})/\n\twhile ( rgx.test( x1 ) ) {\n\t\tx1 = x1.replace( rgx, '$1' + ',' + '$2' )\n\t}\n\tif( x2 == '.00' ) { x2 = '' }\n\treturn x1 + x2\n}\n\nconst calculate = () => {\n\t\n\tlet monthlyRepayment,\n\t\ttotalInterestPaid\n\t\n    const amount = parseFloat( document.getElementById( \"mortgageCalc_value\" ).value ),\n\t\tmortgageType = document.querySelector( 'input[name=\"mortgageCalc_type\"]:checked' ).value,\n\t\tterm = parseFloat( document.getElementById( \"mortgageCalc_years\" ).value ),\n\t\tinterestrate = parseFloat( document.getElementById( \"mortgageCalc_interest\" ).value ),\n\t\tnumberOfMonths = eval( term * 12 ),\n\t\tinterest = eval( eval( interestrate / 12 ) / 100 )\n\t\n    if ( mortgageType === \"interest_only\" ) {\n        monthlyRepayment = eval( amount * interest )\n        totalInterestPaid = eval( monthlyRepayment * 12 * term )\n\n    } else {\n        const interestOverMonths = eval( 1.0 / Math.pow( 1 + interest, numberOfMonths ) )\n        monthlyRepayment = eval( ( amount * interest ) / ( 1 - interestOverMonths ) )\n        let totalRepayment = 0\n        let i = 0\n        while ( i < term ) {\n            totalRepayment = totalRepayment + monthlyRepayment * 12\n            i++\n        }\n        totalInterestPaid = totalRepayment - amount\n    }\n\n    document.getElementById( \"mortgageCalc_results-total\" ).innerHTML =\n        document.getElementById( \"languageString_monthlyRepaymentLabel\" ).innerHTML +\n        \" <span>&pound;\" +\n        formatPrice( monthlyRepayment.toFixed( 2 ) ) +\n        \"</span>\"\n    document.getElementById( \"mortgageCalc_results-interest-paid\" ).innerHTML =\n        document.getElementById( \"languageString_totalInterestPaidLabel\" ).innerHTML +\n        \" <span>&pound;\" +\n        formatPrice( totalInterestPaid.toFixed( 2 ) ) +\n        \"</span>\"\n    document.getElementById( \"mortgageCalc_results\" ).style.display = \"block\"\n    return false\n}\n\nconst setupForm = document.querySelector( \".mortgageCalc\" )\nsetupForm.addEventListener(\n    \"submit\"\n    , function( e ) {\n        e.preventDefault()\n        calculate()\n    }\n    , false\n)\n"],"names":["formatPrice","number","x","split","x1","x2","length","rgx","test","replace","calculate","monthlyRepayment","totalInterestPaid","amount","parseFloat","document","getElementById","value","mortgageType","querySelector","term","interestrate","numberOfMonths","eval","interest","interestOverMonths","Math","pow","totalRepayment","i","innerHTML","toFixed","style","display","setupForm","addEventListener","e","preventDefault"],"sourceRoot":""}
{"version":3,"file":"blocks/mortgage-calc/mortgage-calc-view.js","mappings":"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","sources":["webpack://bigup-blocks/./src/blocks/mortgage-calc/mortgage-calc-view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\n\nconst formatPrice = ( number ) => {\n\tnumber += ''\n\tx = number.split( '.' )\n\tx1 = x[ 0 ]\n\tx2 = x.length > 1 ? '.' + x[ 1 ] : ''\n\tvar rgx = /(\\d+)(\\d{3})/\n\twhile ( rgx.test( x1 ) ) {\n\t\tx1 = x1.replace( rgx, '$1' + ',' + '$2' )\n\t}\n\tif( x2 == '.00' ) { x2 = '' }\n\treturn x1 + x2\n}\n\nconst calculate = () => {\n\t\n\tlet monthlyRepayment,\n\t\ttotalInterestPaid\n\t\n    const amount = parseFloat( document.getElementById( \"mortgageCalc_value\" ).value ),\n\t\tmortgageType = document.querySelector( 'input[name=\"mortgageCalc_type\"]:checked' ).value,\n\t\tterm = parseFloat( document.getElementById( \"mortgageCalc_years\" ).value ),\n\t\tinterestrate = parseFloat( document.getElementById( \"mortgageCalc_interest\" ).value ),\n\t\tnumberOfMonths = eval( term * 12 ),\n\t\tinterest = eval( eval( interestrate / 12 ) / 100 )\n\t\n    if ( mortgageType === \"interest_only\" ) {\n        monthlyRepayment = eval( amount * interest )\n        totalInterestPaid = eval( monthlyRepayment * 12 * term )\n\n    } else {\n        const interestOverMonths = eval( 1.0 / Math.pow( 1 + interest, numberOfMonths ) )\n        monthlyRepayment = eval( ( amount * interest ) / ( 1 - interestOverMonths ) )\n        let totalRepayment = 0\n        let i = 0\n        while ( i < term ) {\n            totalRepayment = totalRepayment + monthlyRepayment * 12\n            i++\n        }\n        totalInterestPaid = totalRepayment - amount\n    }\n\n    document.getElementById( \"mortgageCalc_results-total\" ).innerHTML =\n        document.getElementById( \"languageString_monthlyRepaymentLabel\" ).innerHTML +\n        \" <span>&pound;\" +\n        formatPrice( monthlyRepayment.toFixed( 2 ) ) +\n        \"</span>\"\n    document.getElementById( \"mortgageCalc_results-interest-paid\" ).innerHTML =\n        document.getElementById( \"languageString_totalInterestPaidLabel\" ).innerHTML +\n        \" <span>&pound;\" +\n        formatPrice( totalInterestPaid.toFixed( 2 ) ) +\n        \"</span>\"\n    document.getElementById( \"mortgageCalc_results\" ).style.display = \"block\"\n    return false\n}\n\nconst setupForm = document.querySelector( \".mortgageCalc\" )\nsetupForm.addEventListener(\n    \"submit\"\n    , function( e ) {\n        e.preventDefault()\n        calculate()\n    }\n    , false\n)\n"],"names":["formatPrice","number","x","split","x1","x2","length","rgx","test","replace","calculate","monthlyRepayment","totalInterestPaid","amount","parseFloat","document","getElementById","value","mortgageType","querySelector","term","interestrate","numberOfMonths","eval","interest","interestOverMonths","Math","pow","totalRepayment","i","innerHTML","toFixed","style","display","setupForm","addEventListener","e","preventDefault"],"sourceRoot":""}